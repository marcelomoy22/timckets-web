<div class="col-lg-12" >
    <h1 class="col-md-10">{{title}}</h1>

    <div class="clearfix"></div> 


    <div class="card" style="width: 100%; height: 100%;">
      <div class="card-body">

        <div class="portlet-body form" style="margin-top: 2%; font-size: 100%;">
            <div class="col-md-12" style="width: 100%; height: 100%; overflow-x: scroll;">
              <table class="table table-striped table-bordered table-hover table-checkable order-column" [mfData]="dataEncuesta" #mf="mfDataTable" [(mfSortBy)]="sortBy1" [mfRowsOnPage]="20">
                <thead>
                  <tr>
                    <th style="text-align: center;"><mfDefaultSorter> # </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="issueMore.critico"> Critico</mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="codeRequest"> Nombre Común</mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="dateOfReport"> Fecha de inicio </mfDefaultSorter></th>
                    <th style="text-align: center;"> Hora</th>
                    <th style="text-align: center;"><mfDefaultSorter by="subCategory"> Subcategoría </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="service"> Servicio  </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="issue.category"> Área </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="issue.sla"> SLA </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="restantes"> Restante </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="status"> Estatus  </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="reportBy.name"> Reportado por </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="analyst.fnames"> Analista </mfDefaultSorter></th>
                    <th style="text-align: center;"><mfDefaultSorter by="pasado"> Vencido </mfDefaultSorter></th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="critico" [(ngModel)]="search.critico" (ngModelChange)="searchCritico1(search.critico)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="folio" [(ngModel)]="search.folio" (ngModelChange)="searchFolio1(search.folio)"></td>
                    <td> </td>
                    <td> </td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="subcategoria" [(ngModel)]="search.subcategoria" (ngModelChange)="searchSubcategoria1(search.subcategoria)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="servicio" [(ngModel)]="search.servicio" (ngModelChange)="searchServicio1(search.servicio)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="area" [(ngModel)]="search.area" (ngModelChange)="searchArea1(search.area)"></td>
                    <td> </td>
                    <td> </td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="estatus" [(ngModel)]="search.estatus" (ngModelChange)="searchEstatus1(search.estatus)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="reportadoPor" [(ngModel)]="search.reportadoPor" (ngModelChange)="searchReportBy1(search.reportadoPor)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="analista" [(ngModel)]="search.analista" (ngModelChange)="searchAnalista1(search.analista)"></td>
                    <td> <input type="text" style="width: 100%;" #name="ngModel" name="vencido" [(ngModel)]="search.vencido" (ngModelChange)="searchVencido1(search.vencido)"></td>
                  </tr>
                  <tr class="odd gradeX" *ngFor="let item of mf.data; let i = index">
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{i + 1}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{i + 1}} </td>
                    <td style="text-align: center; padding-top: 0.2%; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> 
                      <a *ngIf="item.issueMore && item.issueMore.critico && item.issueMore.critico==true" style="color: #C8102E;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-fill" viewBox="0 0 16 16">
                          <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                        </svg>
                      </a>
                    </td>
                    <td style="text-align: center; padding-top: 0.2%;" *ngIf="!item.color || identity.type=='local'">
                      <a *ngIf="item.issueMore && item.issueMore.critico && item.issueMore.critico==true" style="color: #C8102E;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-fill" viewBox="0 0 16 16">
                          <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                        </svg>
                      </a>
                    </td>
                    <td style="text-align: center; padding-top: 0.2%; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> 
                      <a href="{{link}}requestDetail/{{item.codeRequest}}">
                        <button type="button" class="btn" style="color: #ca243d;">{{item.codeRequest}}</button>
                      </a>
                    </td>
                    <td style="text-align: center; padding-top: 0.2%;" *ngIf="!item.color || identity.type=='local'">
                      <a href="{{link}}requestDetail/{{item.codeRequest}}">
                          <button type="button" class="btn" style="color: #ca243d;">{{item.codeRequest}}</button>
                      </a>
                    </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{momentTimeDate(item.dateOfReport)}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{momentTimeDate(item.dateOfReport)}} </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{momentTimeHour(item.dateOfReport)}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{momentTimeHour(item.dateOfReport)}} </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{item.subCategory}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{item.subCategory}} </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{item.service}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{item.service}} </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{item.issue.category}} </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{item.issue.category}} </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{item.issue.sla}} h</td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{item.issue.sla}} h</td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> <a *ngIf="item.status!='Solucionado'">{{item.restantes}}</a> <a *ngIf="item.status=='Solucionado'"></a></td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> <a *ngIf="item.status!='Solucionado'">{{item.restantes}}</a> <a *ngIf="item.status=='Solucionado'"></a></td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> <a *ngIf="item.status" >{{item.status}} </a> <a *ngIf="!item.status" >{{item.statusCallCenter}}</a> <label *ngIf="item.reaperturado[0]">Reaperturado</label></td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> <a *ngIf="item.status" >{{item.status}} </a> <a *ngIf="!item.status" >{{item.statusCallCenter}}</a> <label *ngIf="item.reaperturado[0]">Reaperturado</label></td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> {{item.reportBy.name}} <label *ngIf="item.reportByAm" style="font-size: 90%;"> - {{item.manager}}</label></td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> {{item.reportBy.name}} <label *ngIf="item.reportByAm" style="font-size: 90%;"> - {{item.manager}}</label></td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"> <a *ngIf="item.analyst">{{item.analyst.fnames}}</a> </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"> <a *ngIf="item.analyst">{{item.analyst.fnames}}</a> </td>
                    <td style="text-align: center; background-color: #FFF1A4;" *ngIf="item.color && identity.type!='local'"><a *ngIf="!item.pasado && item.pasado!='red'"> </a> <a  *ngIf="item.pasado && item.pasado=='red'"> Si </a> </td>
                    <td style="text-align: center;" *ngIf="!item.color || identity.type=='local'"><a *ngIf="!item.pasado && item.pasado!='red'"> </a> <a  *ngIf="item.pasado && item.pasado=='red'"> Si </a> </td>
                  </tr>
                  <td></td>
                  <td> <a style="font-size: 120%;" *ngIf="inProcess">Total: {{inProcess.length}}</a> </td>
                </tbody>
                <tfoot>
                  <tr>
                      <td colspan="12">
                          <mfBootstrapPaginator [rowsOnPageSet]="[20,50,100,1000,10000]"></mfBootstrapPaginator>
                      </td>
                  </tr>
                  </tfoot>
              </table>
    </div>

      </div>
    </div>

</div>

